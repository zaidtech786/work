<div class="neuro-container">
    <div class="floating-elements">
        <div class="float-item item-1"></div>
        <div class="float-item item-2"></div>
        <div class="float-item item-3"></div>
    </div>

    <div class="login-card">
        <div class="card-header">
            <div class="logo">
                <div class="logo-circle"></div>
            </div>
            <h1>Forgot Password</h1>
            <p>Reset your account password</p>
        </div>

        <!-- Step 1: Send OTP -->
        <form *ngIf="step === 1" [formGroup]="forgotForm" (ngSubmit)="onSendOtp()" class="neuro-form">
            <div class="input-group">
                <div class="input-wrapper">
                    <input id="email" type="email" formControlName="email" placeholder=" " autocomplete="email" />
                    <label for="email">Email</label>
                    <div class="input-highlight"></div>
                </div>
            </div>
            <button type="submit" class="submit-button">Send OTP</button>
        </form>

        <!-- Step 2: Verify OTP -->
        <form *ngIf="step === 2" [formGroup]="otpForm" (ngSubmit)="onVerifyOtp()" class="neuro-form">
            <div class="input-group">
                <div class="input-wrapper">
                    <input id="otp" type="text" maxlength="4" formControlName="otp" placeholder=" " inputmode="numeric"
                        autocomplete="one-time-code" />
                    <label for="otp">Enter OTP</label>
                    <div class="input-highlight"></div>
                </div>
            </div>
            <button type="submit" class="submit-button">Verify OTP</button>
        </form>

        <!-- Step 3: Reset Password -->
        <form *ngIf="step === 3" [formGroup]="resetForm" (ngSubmit)="onResetPassword()" class="neuro-form">
            <div class="input-group">
                <div class="input-wrapper">
                    <input id="newPassword" [type]="showNew ? 'text' : 'password'" formControlName="newPassword"
                        placeholder=" " autocomplete="new-password" />
                    <label for="newPassword">New Password</label>
                    <button type="button" class="password-toggle" (click)="showNew = !showNew"
                        aria-label="Toggle new password visibility">
                        <span class="toggle-icon" [class.show]="showNew"></span>
                    </button>
                    <div class="input-highlight"></div>
                </div>
            </div>

            <div class="input-group">
                <div class="input-wrapper">
                    <input id="confirmPassword" [type]="showConfirm ? 'text' : 'password'"
                        formControlName="confirmPassword" placeholder=" " autocomplete="new-password" />
                    <label for="confirmPassword">Confirm Password</label>
                    <button type="button" class="password-toggle" (click)="showConfirm = !showConfirm"
                        aria-label="Toggle confirm password visibility">
                        <span class="toggle-icon" [class.show]="showConfirm"></span>
                    </button>
                    <div class="input-highlight"></div>
                </div>
            </div>

            <button type="submit" class="submit-button">Reset Password</button>
        </form>
    </div>
</div>